<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Unlock</title>

<script src='//libtl.com/sdk.js'
 data-zone='10480960'
 data-sdk='show_10480960'></script>

<style>
body{
  background:#000;
  color:#fff;
  text-align:center;
  padding-top:60px;
  font-family:Arial;
}
button{
  padding:12px 20px;
  background:#00cc66;
  border:none;
  border-radius:6px;
  color:#fff;
  font-size:18px;
  display:none;
}
</style>
</head>

<body>

<h2>ðŸ”“ Unlockingâ€¦</h2>
<p id="status">Watching ads</p>
<button id="playBtn">â–¶ Play Video</button>

<script>
let count = 0;
let target = localStorage.getItem("unlockTarget");

function showAd(){
  show_10480960().then(() => {
    count++;
    status.innerText = `Ad ${count}/3 completed`;
    if(count < 3){
      setTimeout(showAd, 1000);
    } else {
      playBtn.style.display = "inline-block";
    }
  });
}

showAd();

playBtn.onclick = () => {
  let h = JSON.parse(localStorage.getItem("history") || "[]");
  if(!h.includes(target)) h.push(target);
  localStorage.setItem("history", JSON.stringify(h));
  localStorage.setItem("unlockedPost", target);
  location.href = "index.html";
};
</script>

</body>
</html>
